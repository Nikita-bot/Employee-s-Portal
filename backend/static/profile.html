<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å | –ì–æ—Ä–æ–¥—Å–∫–∞—è –ë–æ–ª—å–Ω–∏—Ü–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/app/static/css/profile.css" type="text/css">
    <script src="/app/static/js/auth.js"></script>
</head>
<body>
    <div class="wrapper">
        <header>
            <div class="logo">–ì–æ—Ä–æ–¥—Å–∫–∞—è –ë–æ–ª—å–Ω–∏—Ü–∞</div>
            <div class="user-menu" onclick="toggleDropdown()">
                <span>–ò–≤–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á</span>
                <img src="https://i.imgur.com/3QZ9a7s.png" alt="–ê–≤–∞—Ç–∞—Ä">
                <div class="dropdown-menu" id="dropdownMenu">
                    <a href="/profile" class="dropdown-item">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a>
                    <button class="dropdown-item" onclick="showChangePasswordModal()">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
                    <button class="dropdown-item" onclick="showTelegramModal()">–ü—Ä–∏–≤—è–∑–∞—Ç—å –¢–µ–ª–µ–≥—Ä–∞–º–º</button>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item" onclick="logout()">–í—ã–π—Ç–∏</button>
                </div>
            </div>
        </header>

        <div class="main-container">
            <sidebar>
                <ul class="nav-links">
                    <li><a href="/">
                        <i class="fas fa-home"></i>
                        <span>–ì–ª–∞–≤–Ω–∞—è</span>
                    </a></li>
                    <li><a href="/tasks">
                        <i class="fas fa-tasks"></i>
                        <span>–ó–∞–¥–∞—á–∏</span>
                    </a></li>
                    <li><a href="#">
                        <i class="fas fa-file-alt"></i>
                        <span>–≠–î–û</span>
                    </a></li>
                    <li><a href="http://documents.kkbsmp.ru/view/list">
                        <i class="fas fa-book"></i>
                        <span>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</span>
                    </a></li>
                    <li><a href="https://portals.kkbsmp.ru/">
                        <i class="fas fa-external-link-alt"></i>
                        <span>–ü–æ—Ä—Ç–∞–ª—ã</span>
                    </a></li>
                    <li><a href="/news">
                        <i class="fas fa-newspaper"></i>
                        <span>–ù–æ–≤–æ—Å—Ç–∏</span>
                    </a></li>
                    <li><a href="/support">
                        <i class="fas fa-headset"></i>
                        <span>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                    </a></li>
                </ul>
            </sidebar>

            <main class="content-area">
                <div class="page-header">
                    <h1>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h1>
                </div>

                <div class="profile-container">
                    <!-- –®–∞–ø–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
                    <div class="profile-header">
                        <img src="https://i.imgur.com/3QZ9a7s.png" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar-large">
                        <div class="profile-info">
                            <h2>–ò–≤–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á</h2>
                            <div class="profile-position">–í—Ä–∞—á-–∫–∞—Ä–¥–∏–æ–ª–æ–≥ –≤—ã—Å—à–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                            <div class="profile-department">–ö–∞—Ä–¥–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ</div>
                        </div>
                    </div>

                    <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Ç–∫–∞ -->
                    <div class="profile-grid">
                        <!-- –õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                        <div class="info-section">
                            <div class="section-header">
                                <h3>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                                <button class="edit-btn" onclick="editPersonalInfo()">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                            <div class="section-body">
                                <div class="info-item">
                                    <span class="info-label">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</span>
                                    <span class="info-value">15.03.1980</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                                    <span class="info-value">+7 (912) 345-67-89</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Email:</span>
                                    <span class="info-value">a.ivanov@hospital.ru</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–ö–∞–±–∏–Ω–µ—Ç:</span>
                                    <span class="info-value">305</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–°—Ç–∞–∂ —Ä–∞–±–æ—Ç—ã:</span>
                                    <span class="info-value">15 –ª–µ—Ç</span>
                                </div>
                            </div>
                        </div>

                        <!-- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                        <div class="info-section">
                            <div class="section-header">
                                <h3>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                                <button class="edit-btn" onclick="editProfessionalInfo()">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                            <div class="section-body">
                                <div class="info-item">
                                    <span class="info-label">–û—Ç–¥–µ–ª:</span>
                                    <span class="info-value">–ö–∞—Ä–¥–∏–æ–ª–æ–≥–∏—è</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–î–æ–ª–∂–Ω–æ—Å—Ç—å:</span>
                                    <span class="info-value">–í–µ–¥—É—â–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                                    <span class="info-value">–í—ã—Å—à–∞—è</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–£—á–µ–Ω–∞—è —Å—Ç–µ–ø–µ–Ω—å:</span>
                                    <span class="info-value">–ö–∞–Ω–¥–∏–¥–∞—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –Ω–∞—É–∫</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–î–∞—Ç–∞ –ø—Ä–∏–µ–º–∞:</span>
                                    <span class="info-value">10.08.2008</span>
                                </div>
                            </div>
                        </div>

                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                        <div class="info-section">
                            <div class="section-header">
                                <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü</h3>
                            </div>
                            <div class="section-body">
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-number">42</div>
                                        <div class="stat-label">–ü—Ä–∏–µ–º–æ–≤</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number">18</div>
                                        <div class="stat-label">–û–ø–µ—Ä–∞—Ü–∏–π</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-number">96%</div>
                                        <div class="stat-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –≠–¶–ü –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å -->
                        <div class="info-section">
                            <div class="section-header">
                                <h3>–≠–¶–ü –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                            </div>
                            <div class="section-body">
                                <div class="info-item">
                                    <span class="info-label">–≠–¶–ü:</span>
                                    <span class="info-value">–ê–∫—Ç–∏–≤–Ω–∞ –¥–æ 15.12.2024</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Telegram:</span>
                                    <span class="info-value">–ü—Ä–∏–≤—è–∑–∞–Ω</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥:</span>
                                    <span class="info-value">–°–µ–≥–æ–¥–Ω—è, 10:30</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:</span>
                                    <span class="info-value">–í–∫–ª—é—á–µ–Ω–∞</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
                    <div class="calendar-section">
                        <div class="section-header">
                            <h3>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h3>
                            <button class="edit-btn" onclick="showCalendar()">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ</button>
                        </div>
                        <div class="calendar-header">
                            <span>–û–∫—Ç—è–±—Ä—å 2023</span>
                            <div>
                                <button class="btn btn-outline" style="padding: 0.25rem 0.5rem; margin-right: 0.5rem;">‚Üê</button>
                                <button class="btn btn-outline" style="padding: 0.25rem 0.5rem;">‚Üí</button>
                            </div>
                        </div>
                        <div class="calendar-grid" id="calendarGrid">
                            <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                    </div>

                    <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                    <div class="analytics-section">
                        <div class="section-header">
                            <h3>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                        </div>
                        <div class="analytics-grid">
                            <div class="chart-placeholder">
                                üìä –ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—á–µ–π –Ω–∞–≥—Ä—É–∑–∫–∏<br>
                                <small>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</small>
                            </div>
                            <div class="quick-actions">
                                <a href="#" class="action-btn">
                                    <div class="action-icon">üìã</div>
                                    <div class="action-text">
                                        <h4>–ú–æ–∏ –æ—Ç—á–µ—Ç—ã</h4>
                                        <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤</p>
                                    </div>
                                </a>
                                <a href="tasks.html" class="action-btn">
                                    <div class="action-icon">‚úÖ</div>
                                    <div class="action-text">
                                        <h4>–ó–∞–¥–∞—á–∏</h4>
                                        <p>–¢–µ–∫—É—â–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ</p>
                                    </div>
                                </a>
                                <a href="#" class="action-btn">
                                    <div class="action-icon">üìö</div>
                                    <div class="action-text">
                                        <h4>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h4>
                                        <p>–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã</p>
                                    </div>
                                </a>
                                <a href="support.html" class="action-btn">
                                    <div class="action-icon">üõ†Ô∏è</div>
                                    <div class="action-text">
                                        <h4>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h4>
                                        <p>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–º–æ—â—å</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
        <div class="modal" id="editPersonalModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h2>
                    <button class="close-btn" onclick="closeEditPersonalModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                        <input type="tel" id="editPhone" value="+7 (912) 345-67-89">
                    </div>
                    <div class="form-group">
                        <label for="editEmail">Email</label>
                        <input type="email" id="editEmail" value="a.ivanov@hospital.ru">
                    </div>
                    <div class="form-group">
                        <label for="editCabinet">–ö–∞–±–∏–Ω–µ—Ç</label>
                        <input type="text" id="editCabinet" value="305">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" onclick="closeEditPersonalModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" onclick="savePersonalInfo()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–≤—è–∑–∫–∏ Telegram -->
        <div class="modal" id="telegramModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>
                        –ü—Ä–∏–≤—è–∑–∫–∞ Telegram
                    </h2>
                    <button class="close-btn" onclick="closeTelegramModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="instructions">
                        <h3>–ö–∞–∫ –ø—Ä–∏–≤—è–∑–∞—Ç—å Telegram:</h3>
                        
                        <div class="instruction-step">
                            <div class="step-number">1</div>
                            <div class="step-text">
                                –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ <strong>@HospitalPortalBot</strong>
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">2</div>
                            <div class="step-text">
                                –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É –∫–æ–º–∞–Ω–¥—É <code>/start</code> –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã
                            </div>
                        </div>
                        
                        <div class="instruction-step">
                            <div class="step-number">3</div>
                            <div class="step-text">
                                –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –æ—Ç–ø—Ä–∞–≤–∏–ª –±–æ—Ç
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="verificationCode">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</label>
                        <input type="text" id="verificationCode" class="code-input" placeholder="ABC123" maxlength="6" oninput="validateVerificationCode()">
                        <div class="error-message" id="codeError">–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
                        <div class="success-message" id="codeSuccess">–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!</div>
                    </div>

                    <div class="connection-info hidden" id="connectionInfo">
                        <img src="https://i.imgur.com/3QZ9a7s.png" alt="–ê–≤–∞—Ç–∞—Ä Telegram" class="user-avatar">
                        <div class="user-details">
                            <h4>–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–æ–≤</h4>
                            <p>@alex_ivanov ‚Ä¢ –ü—Ä–∏–≤—è–∑–∞–Ω 5 –º–∏–Ω –Ω–∞–∑–∞–¥</p>
                        </div>
                    </div>

                    <div class="status-connected" id="statusConnected">
                        ‚úÖ Telegram —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω! –¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞—á–∞—Ö –∏ –Ω–æ–≤–æ—Å—Ç—è—Ö.
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" onclick="closeTelegramModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" id="connectBtn" onclick="connectTelegram()" disabled>–ü—Ä–∏–≤—è–∑–∞—Ç—å</button>
                    <button class="btn btn-danger hidden" id="disconnectBtn" onclick="disconnectTelegram()">–û—Ç–≤—è–∑–∞—Ç—å</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è -->
        <div class="modal" id="changePasswordModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>
                    <button class="close-btn" onclick="closeChangePasswordModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="changePasswordForm">

                        <div class="form-group">
                            <label for="newPassword">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                            <div class="password-toggle">
                                <input type="password" id="newPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" oninput="validatePassword()">
                                <button type="button" class="toggle-password" onclick="togglePasswordVisibility('newPassword')">üëÅÔ∏è</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
                            <div class="password-toggle">
                                <input type="password" id="confirmPassword" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å" oninput="validatePassword()">
                                <button type="button" class="toggle-password" onclick="togglePasswordVisibility('confirmPassword')">üëÅÔ∏è</button>
                            </div>
                            <div class="error-message" id="confirmPasswordError">–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç</div>
                        </div>

                        <div class="success-message" id="passwordSuccess">–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!</div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" onclick="closeChangePasswordModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-primary" id="savePasswordBtn" onclick="changePassword()" disabled>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <footer>
            <p>¬© 2023 –ì–æ—Ä–æ–¥—Å–∫–∞—è –ë–æ–ª—å–Ω–∏—Ü–∞. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞. –í–µ—Ä—Å–∏—è 2.1</p>
        </footer>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è dropdown –º–µ–Ω—é
        function toggleDropdown() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.classList.toggle('show');
        }

        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('dropdownMenu');
            const userMenu = document.querySelector('.user-menu');
            
            if (!userMenu.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // –î–µ–º–æ-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
        function showChangePasswordModal() {
            alert('–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è');
        }

        function showTelegramModal() {
            alert('–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–≤—è–∑–∫–∏ Telegram');
        }

        function editPersonalInfo() {
            document.getElementById('editPersonalModal').classList.add('show');
        }

        function closeEditPersonalModal() {
            document.getElementById('editPersonalModal').classList.remove('show');
        }

        function editProfessionalInfo() {
            alert('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏');
        }

        function showCalendar() {
            alert('–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è');
        }

        function savePersonalInfo() {
            alert('–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
            closeEditPersonalModal();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
        function generateCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            const daysOfWeek = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            
            let calendarHTML = '';
            
            // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
            daysOfWeek.forEach(day => {
                calendarHTML += `<div class="calendar-day header">${day}</div>`;
            });
            
            // –î–µ–º–æ-–∫–∞–ª–µ–Ω–¥–∞—Ä—å (–æ–∫—Ç—è–±—Ä—å 2023)
            const daysInMonth = 31;
            const firstDay = 0; // 1 –æ–∫—Ç—è–±—Ä—è - –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
            
            // –ü—É—Å—Ç—ã–µ –¥–Ω–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –º–µ—Å—è—Ü–∞
            for (let i = 0; i < firstDay; i++) {
                calendarHTML += `<div class="calendar-day other-month"></div>`;
            }
            
            // –î–Ω–∏ –º–µ—Å—è—Ü–∞
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = day === 6; // 6 –æ–∫—Ç—è–±—Ä—è - —Å–µ–≥–æ–¥–Ω—è
                let events = '';
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏—è –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–Ω–µ–π
                if (day === 6) {
                    events = '<div class="calendar-event">–ü—Ä–∏–µ–º 10:00</div>';
                } else if (day === 12) {
                    events = '<div class="calendar-event">–°–µ–º–∏–Ω–∞—Ä 14:00</div>';
                } else if (day === 15) {
                    events = '<div class="calendar-event">–ö–æ–Ω—Å–∏–ª–∏—É–º 11:00</div>';
                }
                
                calendarHTML += `
                    <div class="calendar-day ${isToday ? 'today' : ''}">
                        ${day}
                        ${events}
                    </div>
                `;
            }
            
            calendarGrid.innerHTML = calendarHTML;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            generateCalendar();
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.addEventListener('click', function(event) {
            const editModal = document.getElementById('editPersonalModal');
            const telegramModal = document.getElementById('telegramModal');
            const passwordModal = document.getElementById('changePasswordModal');
            
            if (event.target === editModal) {
                closeEditPersonalModal();
            }
            if (event.target === telegramModal) {
                closeTelegramModal();
            }
            if (event.target === passwordModal) {
                closeChangePasswordModal();
            }
        });

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ Telegram
        function showTelegramModal() {
            document.getElementById('telegramModal').classList.add('show');
            document.getElementById('dropdownMenu').classList.remove('show');
            resetTelegramForm();
        }

        function closeTelegramModal() {
            document.getElementById('telegramModal').classList.remove('show');
        }

        function resetTelegramForm() {
            document.getElementById('verificationCode').value = '';
            document.getElementById('codeError').style.display = 'none';
            document.getElementById('codeSuccess').style.display = 'none';
            document.getElementById('connectBtn').disabled = true;
            document.getElementById('statusConnected').classList.remove('show');
            document.getElementById('connectionInfo').classList.add('hidden');
            document.getElementById('disconnectBtn').classList.add('hidden');
            document.getElementById('connectBtn').classList.remove('hidden');
        }

        function validateVerificationCode() {
            const code = document.getElementById('verificationCode').value.toUpperCase();
            const connectBtn = document.getElementById('connectBtn');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–¥–∞ (6 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã)
            const isValid = /^[A-Z0-9]{6}$/.test(code);
            
            connectBtn.disabled = !isValid;
            
            if (code.length === 6 && !isValid) {
                document.getElementById('codeError').style.display = 'block';
                document.getElementById('codeSuccess').style.display = 'none';
            } else if (isValid) {
                document.getElementById('codeError').style.display = 'none';
                document.getElementById('codeSuccess').style.display = 'block';
            } else {
                document.getElementById('codeError').style.display = 'none';
                document.getElementById('codeSuccess').style.display = 'none';
            }
        }

        function connectTelegram() {
            const code = document.getElementById('verificationCode').value.toUpperCase();
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã AJAX –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
            console.log('–ü—Ä–∏–≤—è–∑–∫–∞ Telegram —Å –∫–æ–¥–æ–º:', code);
            
            // –î–µ–º–æ-–ª–æ–≥–∏–∫–∞ –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
            if (code === 'ABC123') {
                // –£—Å–ø–µ—à–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞
                document.getElementById('statusConnected').classList.add('show');
                document.getElementById('connectionInfo').classList.remove('hidden');
                document.getElementById('connectBtn').classList.add('hidden');
                document.getElementById('disconnectBtn').classList.remove('hidden');
                
                // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
                document.getElementById('verificationCode').disabled = true;
            } else {
                // –û—à–∏–±–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏
                document.getElementById('codeError').style.display = 'block';
                document.getElementById('codeError').textContent = '–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è';
            }
        }

        function disconnectTelegram() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã AJAX –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
            console.log('–û—Ç–≤—è–∑–∫–∞ Telegram');
            
            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
            resetTelegramForm();
            document.getElementById('verificationCode').disabled = false;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–≤—è–∑–∫–µ
            alert('Telegram —É—Å–ø–µ—à–Ω–æ –æ—Ç–≤—è–∑–∞–Ω –æ—Ç –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞');
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
        function showChangePasswordModal() {
            document.getElementById('changePasswordModal').classList.add('show');
            document.getElementById('dropdownMenu').classList.remove('show');
        }

        function closeChangePasswordModal() {
            document.getElementById('changePasswordModal').classList.remove('show');
            resetPasswordForm();
        }

        function resetPasswordForm() {
            document.getElementById('changePasswordForm').reset();
            document.getElementById('confirmPasswordError').style.display = 'none';
            document.getElementById('passwordSuccess').style.display = 'none';
            document.getElementById('savePasswordBtn').disabled = true;
        }

        function togglePasswordVisibility(fieldId) {
            const field = document.getElementById(fieldId);
            const button = field.parentNode.querySelector('.toggle-password');
            
            if (field.type === 'password') {
                field.type = 'text';
                button.textContent = 'üîí';
            } else {
                field.type = 'password';
                button.textContent = 'üëÅÔ∏è';
            }
        }

        function changePassword() {
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã AJAX –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
            console.log('–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è:', {
                newPassword: newPassword,
                confirmPassword: confirmPassword
            });
            
            document.getElementById('passwordSuccess').style.display = 'block';
            document.getElementById('savePasswordBtn').disabled = true;
                
            setTimeout(() => {
                closeChangePasswordModal();
            }, 2000);
        }

        function validatePassword() {
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const saveBtn = document.getElementById('savePasswordBtn');
            const passwordsMatch = newPassword === confirmPassword && newPassword !== '';

            // –ü–æ–∫–∞–∑ –æ—à–∏–±–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
            document.getElementById('confirmPasswordError').style.display = 
                confirmPassword && !passwordsMatch ? 'block' : 'none';
            
            saveBtn.disabled = !(passwordsMatch);
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ —Ñ–æ—Ä–º–µ
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter' && document.getElementById('telegramModal').classList.contains('show')) {
                const connectBtn = document.getElementById('connectBtn');
                if (!connectBtn.disabled) {
                    connectTelegram();
                }
            }
        });
    </script>
</body>
</html>